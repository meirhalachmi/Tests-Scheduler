(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{275:function(e,t,a){e.exports=a(510)},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},457:function(e,t,a){},459:function(e,t,a){},510:function(e,t,a){"use strict";a.r(t);a(276);var n=a(0),s=a.n(n),r=a(11),l=a.n(r),o=a(21),i=(a(286),a(13)),c=a(14),u=a(16),p=a(15),m=a(17),d=a(54),h=a(50),f=a(151),E=a.n(f),b=a(41),g=a.n(b),v=(a(287),a(31)),y=a(27),O=a(23),j=a(105),S=a(153),k=a(111),C=(a(288),a(156)),D=a(30),T=a.n(D),w=a(51),x=a(52),I=a(28),H=a.n(I),L=a(272);function G(e,t){return Array(t-e+1).fill().map(function(t,a){return e+a})}var M=function(e){var t=e.error;return s.a.createElement("span",null,"Error:",t.message)},V=function(e){var t=Object(L.a)(e.url),a=t.error,n=t.data;return a?s.a.createElement(M,{error:a}):n?(e.preProcess&&(n=e.preProcess(n)),n.map(e.parserFunction)):null};function F(e){return e.sort(function(e,t){return e.name>t.name?1:-1})}function R(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function q(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[s,a,n].join("-")}function N(){var e=Object(S.a)(["\n  padding: 10px;\n"]);return N=function(){return e},e}function B(){var e=Object(S.a)(["\n  margin: 10px;\n  border: 1px solid lightgrey;\n  border-radius: 5px;\n  // width: 50%;\n  display: flex;\n  flex-direction: column;\n"]);return B=function(){return e},e}var W=C.a.div(B()),_=C.a.div(N()),P=function(e,t,a,n){var s=Array.from(e),r=Array.from(t),l=s.splice(a.index,1),o=Object(j.a)(l,1)[0];r.push(o);var i={};return i[a.droppableId]=s,i[n.droppableId]=r,i},A=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).groupToListItem=function(e){return e.map(function(e){return{id:e,content:n.subjects.get(e)}})},n.addList=function(){var e=n.state.lists.concat([[]]),t=n.state.titles.concat("\u05d0\u05e9\u05db\u05d5\u05dc \u05de\u05d2\u05de\u05d5\u05ea");n.setState({lists:e,titles:t})},n.removeList=function(e){var t=n.state.lists[e],a=Array.from(n.state.lists),s=Array.from(n.state.titles);a.splice(e,1),s.splice(e,1),a[0]=a[0].concat(t),n.setState({lists:a,titles:s})},n.getList=function(e){return n.state.lists[parseInt(e)]},n.onDragEnd=function(e){var t=e.source,a=e.destination;if(a)if(t.droppableId===a.droppableId);else{var s=P(n.getList(t.droppableId),n.getList(a.droppableId),t,a),r=Object(v.a)(n.state.lists);r[t.droppableId]=s[t.droppableId],r[a.droppableId]=s[a.droppableId],n.setState({lists:r})}},n.getGroupedSubjectsRequest=new Request("https://tests-scheduler-app.herokuapp.com/groupedSubjects"),n.getSubjectsRequest=new Request("https://tests-scheduler-app.herokuapp.com/subjects"),n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.state={lists:[[]],titles:["\u05de\u05e7\u05e6\u05d5\u05e2\u05d5\u05ea \u05dc\u05d9\u05d1\u05d4"]},fetch(n.getGroupedSubjectsRequest).then(function(e){return e.json()}).then(function(e){n.initialGroupedSubjects=e}).then(function(){fetch(n.getSubjectsRequest).then(function(e){return e.json()}).then(function(e){n.subjects=new Map(e.map(function(e){return[e.id,e.name]}))}).then(function(){var e,t;n.initialNoGroup=n.initialGroupedSubjects.no_group,n.initialGroups=n.initialGroupedSubjects.groups,n.setState({lists:Array(n.groupToListItem(n.initialNoGroup)).concat(n.initialGroups.map(function(e){return n.groupToListItem(e)})),titles:["\u05de\u05e7\u05e6\u05d5\u05e2\u05d5\u05ea \u05dc\u05d9\u05d1\u05d4"].concat((e="\u05d0\u05e9\u05db\u05d5\u05dc \u05de\u05d2\u05de\u05d5\u05ea",t=n.initialGroups.length,Array.from({length:t},function(){return e})))})})}),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getColumnContainer",value:function(e,t){var a=this;return s.a.createElement(W,{key:e},s.a.createElement(_,null,t," ",e>0&&s.a.createElement("span",null,s.a.createElement(w.a,{icon:x.f,onClick:function(){a.removeList(e)}}))),s.a.createElement(k.c,{droppableId:e.toString()},function(t,n){return s.a.createElement("div",{ref:t.innerRef,style:(r=n.isDraggingOver,{background:r?"lightblue":"lightgrey",padding:8,width:250})},a.state.lists[e].map(function(e,t){return s.a.createElement(k.b,{key:e.id,draggableId:e.id,index:t},function(t,a){return s.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:(n=a.isDragging,r=t.draggableProps.style,Object(O.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),background:n?"lightgreen":"grey",color:n?"black":"white"},r))}),e.content);var n,r})}),t.placeholder);var r}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.lists.map(function(e){return e.map(function(e){return e.id})}),n=a.shift(),s=0===a.length?[[]]:a,r=!0;if(s.forEach(function(e,t){1===e.length&&(alert("\u05d0\u05e9\u05db\u05d5\u05dc \u05de\u05d2\u05de\u05d5\u05ea \u05dc\u05d0 \u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05db\u05d9\u05dc \u05e8\u05e7 \u05de\u05e7\u05e6\u05d5\u05e2 \u05d0\u05d7\u05d3"),r=!1)}),r){var l={no_parallels:[n],parallel_groups:[s]};H.a.post("https://tests-scheduler-app.herokuapp.com/groupedSubjects",l).then(function(){return t.props.history.push("/calendar")}).catch(console.error)}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{id:"root"},s.a.createElement(k.a,{onDragEnd:this.onDragEnd},this.state.titles.map(function(t,a,n){return e.getColumnContainer(a,e.state.titles[a])})),s.a.createElement(W,null,s.a.createElement(T.a,{onClick:function(){e.addList()}},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05e9\u05db\u05d5\u05dc"))),s.a.createElement(T.a,{onClick:this.handleSubmit},"Send"))}}]),t}(n.Component);var U=Object(o.b)(function(e){var t=e.subjects,a=e.session,n=t.isFetching,s=t.items;return{sessionId:a.id,subjects:s,isFetching:n}})(A),Y=a(36),z=a(163),K=a(109),J=a.n(K),Z=(a(457),a(458),a(459),a(264)),X=a(265),Q=a.n(X),$={root:{fontFamily:'"HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif',fontWeight:300},header:{backgroundColor:"#03a9f4",color:"white",padding:"16px",fontSize:"1.5em"}},ee=function(e){var t=e.style?Object(O.a)({},$.root,e.style):$.root;return s.a.createElement("div",{style:t},s.a.createElement("div",{style:$.header},e.title),e.children)},te="REQUEST",ae="RECEIVE",ne="INIT_SESSION";function se(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(s){return s({type:te+"_"+e.toUpperCase()}),fetch(t+a).then(function(e){return e.json()}).then(function(t){return s(function(t,a){return{type:ae+"_"+e.toUpperCase(),items:a(t),receivedAt:Date.now()}}(t,n))})}}}var re=se("Subjects","https://tests-scheduler-app.herokuapp.com/subjects"),le=se("Classes","https://tests-scheduler-app.herokuapp.com/classes"),oe=se("Blockers","https://tests-scheduler-app.herokuapp.com/blockers"),ie=se("Tests","https://tests-scheduler-app.herokuapp.com/tests"),ce=se("Session","https://tests-scheduler-app.herokuapp.com/sessioninfo"),ue=se("Schedule","https://tests-scheduler-app.herokuapp.com/currentscheduledtests"),pe=se("ScheduleStore","https://tests-scheduler-app.herokuapp.com/schedulerstatestore");function me(){return function(e){e({type:ne}),e(ce()),e(re()),e(le()),e(oe()),e(ie()),e(ue()),e(pe())}}var de=function(){return function(e){return H.a.post("https://tests-scheduler-app.herokuapp.com/resetschedule",{}).then(e({type:"UNSCHEDULE"})).then(function(){return e(ue())})}},he=a(42),fe={sidebar:{width:300},sidebarLink:{display:"block",padding:"16px 0px",color:"#757575",textDecoration:"none"},divider:{margin:"8px 0",height:1,backgroundColor:"#757575"},content:{padding:"16px",paddingTop:"30px",paddingBottom:"30px",backgroundColor:"white"}};function Ee(e){var t=e.event,a="blocker"===t.type?"red":"blue";return s.a.createElement(s.a.Fragment,null,s.a.createElement(he.b,{id:t.type+t.id.toString()},s.a.createElement("div",{style:{backgroundColor:a,fontSize:"15px"}},s.a.createElement("strong",null,t.title),t.desc&&":  "+t.desc)))}function be(e){var t=new Date(e);return t.setHours(0,0,0,0),t.getTime()}var ge=a(80),ve=a.n(ge),ye=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(ve.a,{size:"lg",show:this.props.show,onHide:this.props.onHide,"aria-labelledby":"example-modal-sizes-title-lg"},s.a.createElement(ve.a.Header,{closeButton:!0},s.a.createElement(ve.a.Title,{id:"example-modal-sizes-title-lg"},this.props.title)),s.a.createElement(ve.a.Body,null,this.props.children))}}]),t}(n.Component),Oe=a(513),je=a(266),Se=a(514),ke=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(y.a)(a));var n=a.props.blockerToEdit?a.props.blockerToEdit.startDates.length:1;return a.state={numOfInstances:n},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getCurrentValue",value:function(e){if(this.props.blockerToEdit){var t=this.props.blockerToEdit;if("name"===e)return t.name;if("participatingClasses"===e)return t.participatingClasses;if(e.startsWith("startDate")){var a=parseInt(e.replace("startDate",""));return q(t.startDates[a])}if(e.startsWith("endDate")){var n=parseInt(e.replace("endDate",""));return q(t.endDates[n])}if(e.startsWith("startHour")){var s=parseInt(e.replace("startHour",""));return t.startHours[s]}if(e.startsWith("endHour")){var r=parseInt(e.replace("endHour",""));return t.endHours[r]}}else if(this.props.wantedDates){if(e.startsWith("startDate"))return this.props.wantedDates.start;if(e.startsWith("endDate"))return this.props.wantedDates.end}return[]}},{key:"render",value:function(){var e=this;return s.a.createElement(g.a,{style:{width:"85%"}},s.a.createElement(Oe.a,{onSubmit:this.handleSubmit},s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:12},s.a.createElement(Oe.a.Group,null,s.a.createElement(Oe.a.Label,null,"\u05e9\u05dd \u05d4\u05d0\u05d9\u05dc\u05d5\u05e5"),s.a.createElement(Oe.a.Control,{required:!0,type:"text",name:"name",maxLength:50,placeholder:"\u05e9\u05dd \u05d4\u05d0\u05d9\u05dc\u05d5\u05e5",defaultValue:this.getCurrentValue("name")})))),s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:6},s.a.createElement(Oe.a.Group,null,s.a.createElement(Oe.a.Label,null,"\u05db\u05d9\u05ea\u05d5\u05ea \u05de\u05e9\u05ea\u05ea\u05e4\u05d5\u05ea"),s.a.createElement(Oe.a.Control,{required:!0,as:"select",multiple:!0,name:"participatingClasses",defaultValue:this.getCurrentValue("participatingClasses")},this.props.classes.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)})))),s.a.createElement(je.a,{md:6},s.a.createElement(Oe.a.Group,null,s.a.createElement(Oe.a.Label,null,"\u05de\u05e7\u05e6\u05d5\u05e2\u05d5\u05ea \u05de\u05e9\u05ea\u05ea\u05e4\u05d9\u05dd"),s.a.createElement(Oe.a.Control,{required:!0,as:"select",multiple:!0,name:"participatingSubjects",defaultValue:this.getCurrentValue("participatingSubjects")},this.props.subjects.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),G(0,this.state.numOfInstances-1).map(function(t){return s.a.createElement(Oe.a.Row,{id:t},s.a.createElement(je.a,{md:4},s.a.createElement(Oe.a.Group,null,0===t&&s.a.createElement(Oe.a.Label,null,"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4"),s.a.createElement(Oe.a.Control,{required:!0,type:"date",name:"startDate"+t.toString(),min:e.props.minDate,max:e.props.maxDate,defaultValue:e.getCurrentValue("startDate"+t.toString())}))),s.a.createElement(je.a,{md:4},s.a.createElement(Oe.a.Group,null,0===t&&s.a.createElement(Oe.a.Label,null,"\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd"),s.a.createElement(Oe.a.Control,{required:!0,type:"date",name:"endDate"+t.toString(),min:e.props.minDate,max:e.props.maxDate,defaultValue:e.getCurrentValue("endDate"+t.toString())}))),s.a.createElement(je.a,{md:2},s.a.createElement(Oe.a.Group,null,0===t&&s.a.createElement(Oe.a.Label,null,"\u05e9\u05e2\u05ea \u05d4\u05ea\u05d7\u05dc\u05d4"),s.a.createElement(Oe.a.Control,{required:!0,key:t,type:"number",name:"startHour"+t.toString(),min:e.props.session.startHour,max:e.props.session.endHour,defaultValue:e.props.blockerToEdit?e.getCurrentValue("startHour"+t.toString()):e.props.session.startHour}))),s.a.createElement(je.a,{md:2},s.a.createElement(Oe.a.Group,null,0===t&&s.a.createElement(Oe.a.Label,null,"\u05e9\u05e2\u05ea \u05e1\u05d9\u05d5\u05dd"),s.a.createElement(Oe.a.Control,{required:!0,key:t,type:"number",name:"endHour"+t.toString(),min:e.props.startHour,max:e.props.endHour,defaultValue:e.props.blockerToEdit?e.getCurrentValue("endHour"+t.toString()):e.props.session.endHour}))))}),s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:3},s.a.createElement(Se.a,{onClick:function(t){e.setState({numOfInstances:e.state.numOfInstances+1})}},"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d5\u05e2\u05d3")),s.a.createElement(je.a,{md:3},this.state.numOfInstances>1&&s.a.createElement(Se.a,{onClick:function(t){e.setState({numOfInstances:e.state.numOfInstances-1})}},"\u05de\u05d7\u05e7 \u05de\u05d5\u05e2\u05d3"))),s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:3},s.a.createElement(Se.a,{type:"Submit"},this.props.blockerToEdit?"\u05e2\u05d3\u05db\u05df \u05d0\u05d9\u05dc\u05d5\u05e5":"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05dc\u05d5\u05e5")))))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={session:this.props.session.id,name:e.target.name.value,participatingClasses:[Object(v.a)(e.target.participatingClasses.options).filter(function(e){return e.selected}).map(function(e){return e.value})],participatingSubjects:[Object(v.a)(e.target.participatingSubjects.options).filter(function(e){return e.selected}).map(function(e){return e.value})],startDates:[G(0,this.state.numOfInstances-1).map(function(t){return e.target["startDate"+t].value})],endDates:[G(0,this.state.numOfInstances-1).map(function(t){return e.target["endDate"+t].value})],startHours:[G(0,this.state.numOfInstances-1).map(function(t){return e.target["startHour"+t].value})],endHours:[G(0,this.state.numOfInstances-1).map(function(t){return e.target["endHour"+t].value})]};this.props.blockerToEdit&&(a.id=this.props.blockerToEdit.id),H.a.post("https://tests-scheduler-app.herokuapp.com/blockers",a).catch(function(e){console.error(e),alert(e)}).then(function(){t.props.afterSend&&t.props.afterSend()})}}]),t}(s.a.Component),Ce=Object(o.b)(function(e){return{session:e.session.items,subjects:e.subjects.items,classes:e.classes.items,minDate:q(e.session.items.startDate),maxDate:q(e.session.items.endDate)}})(ke),De={0:"\u05e8\u05d0\u05e9\u05d5\u05df",1:"\u05e9\u05e0\u05d9",2:"\u05e9\u05dc\u05d9\u05e9\u05d9",3:"\u05e8\u05d1\u05d9\u05e2\u05d9",4:"\u05d7\u05de\u05d9\u05e9\u05d9",5:"\u05e9\u05d9\u05e9\u05d9"},Te=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(y.a)(a));var n=a.props.testToEdit?a.props.testToEdit.optionalDaysInWeek.length:1,s=a.props.testToEdit?a.props.testToEdit.numOfTests:1;return a.state={numOfOptionalTimes:n,numOfTests:s},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getCurrentValue",value:function(e){if(this.props.testToEdit){var t=this.props.testToEdit;if(e.startsWith("optionalDaysInWeek")){var a=parseInt(e.replace("optionalDaysInWeek",""));return t.optionalDaysInWeek[a]}if(e.startsWith("optionalEndHours")){var n=parseInt(e.replace("optionalEndHours",""));return t.optionalEndHours[n]}if(e.startsWith("optionalStartHours")){var s=parseInt(e.replace("optionalStartHours",""));return t.optionalStartHours[s]}return t[e]}}},{key:"render",value:function(){var e=this;return s.a.createElement(g.a,{style:{width:"85%"}},s.a.createElement(Oe.a,{onSubmit:this.handleSubmit},s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:6},s.a.createElement(Oe.a.Group,{controlId:"formGridSubject"},s.a.createElement(Oe.a.Label,null,"\u05e0\u05d5\u05e9\u05d0 \u05d4\u05de\u05d1\u05d7\u05df"),s.a.createElement(Oe.a.Control,{required:!0,as:"select",name:"subject",defaultValue:this.getCurrentValue("subject")},this.props.subjects.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)}))),s.a.createElement(Oe.a.Group,{controlId:"label"},s.a.createElement(Oe.a.Label,null,"\u05ea\u05d9\u05d0\u05d5\u05e8 (\u05dc\u05d0 \u05d7\u05d5\u05d1\u05d4)"),s.a.createElement(Oe.a.Control,{type:"text",name:"label",defaultValue:this.getCurrentValue("label"),placeholder:"\u05dc\u05d3\u05d5\u05d2\u05de\u05d0- \u05d1\u05d2\u05e8\u05d5\u05ea \u05e4\u05e0\u05d9\u05de\u05d9\u05ea / \u05de\u05ea\u05db\u05d5\u05e0\u05ea",maxLength:20}))),s.a.createElement(je.a,{md:6},s.a.createElement(Oe.a.Group,{controlId:"formGridClasses",style:{height:"100%"}},s.a.createElement(Oe.a.Label,null,"\u05db\u05d9\u05ea\u05d5\u05ea \u05de\u05e9\u05ea\u05ea\u05e4\u05d5\u05ea"),s.a.createElement(Oe.a.Control,{required:!0,as:"select",multiple:!0,name:"participatingClasses",style:{height:"80%"},defaultValue:this.getCurrentValue("participatingClasses")},this.props.classes.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:6},s.a.createElement(Oe.a.Group,null,s.a.createElement(Oe.a.Label,null,"\u05de\u05e1\u05e4\u05e8 \u05de\u05d1\u05d7\u05e0\u05d9\u05dd"),s.a.createElement(Oe.a.Control,{required:!0,as:"select",name:"numOfTests",onChange:function(t){e.setState({numOfTests:t.target.value})},defaultValue:this.getCurrentValue("numOfTests")},s.a.createElement("option",{value:1},"1"),s.a.createElement("option",{value:2},"2")))),this.state.numOfTests>1&&s.a.createElement(je.a,{md:6},s.a.createElement(Oe.a.Group,null,s.a.createElement(Oe.a.Label,null,"\u05de\u05e8\u05d5\u05d5\u05d7 \u05de\u05d9\u05e0\u05d9\u05de\u05dc\u05d9 \u05d1\u05d9\u05df \u05de\u05d1\u05d7\u05e0\u05d9\u05dd"),s.a.createElement(Oe.a.Control,{required:!0,type:"number",name:"daysGap",defaultValue:this.props.testToEdit?this.getCurrentValue("daysGap"):this.props.session.defaultGap,step:1,min:2,max:365})))),s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:6},s.a.createElement(Oe.a.Group,null,s.a.createElement(Oe.a.Label,null,"\u05ea\u05d0\u05e8\u05d9\u05da \u05de\u05d9\u05e0\u05d9\u05de\u05dc\u05d9"),s.a.createElement(Oe.a.Control,{required:!0,type:"date",format:"DD-MM-YYYY",name:"minDate",min:this.props.minDate,max:this.props.maxDate,defaultValue:this.props.testToEdit?this.getCurrentValue("minDate"):this.props.minDate}))),s.a.createElement(je.a,{md:6},s.a.createElement(Oe.a.Group,null,s.a.createElement(Oe.a.Label,null,"\u05ea\u05d0\u05e8\u05d9\u05da \u05de\u05e7\u05e1\u05d9\u05de\u05dc\u05d9"),s.a.createElement(Oe.a.Control,{required:!0,type:"date",format:"DD-MM-YYYY",name:"maxDate",min:this.props.minDate,max:this.props.maxDate,defaultValue:this.props.testToEdit?this.getCurrentValue("maxDate"):this.props.maxDate})))),G(0,this.state.numOfOptionalTimes-1).map(function(t){return s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:4},s.a.createElement(Oe.a.Group,null,0===t&&s.a.createElement(Oe.a.Label,null,"\u05d9\u05d5\u05dd"),s.a.createElement(Oe.a.Control,{required:!0,key:t,as:"select",name:"optionalDaysInWeek"+t.toString(),defaultValue:e.getCurrentValue("optionalDaysInWeek"+t.toString())},Object.entries(De).map(function(e){return s.a.createElement("option",{value:e[0],key:e[0]},e[1])})))),s.a.createElement(je.a,{md:4},s.a.createElement(Oe.a.Group,null,0===t&&s.a.createElement(Oe.a.Label,null,"\u05e9\u05e2\u05ea \u05d4\u05ea\u05d7\u05dc\u05d4"),s.a.createElement(Oe.a.Control,{required:!0,key:t,type:"number",name:"optionalStartHours"+t.toString(),defaultValue:e.props.testToEdit?e.getCurrentValue("optionalStartHours"+t.toString()):e.props.session.startHour,step:1,min:e.props.session.startHour,max:e.props.session.endHour}))),s.a.createElement(je.a,{md:4},s.a.createElement(Oe.a.Group,null,0===t&&s.a.createElement(Oe.a.Label,null,"\u05e9\u05e2\u05ea \u05e1\u05d9\u05d5\u05dd"),s.a.createElement(Oe.a.Control,{requiredkey:t,type:"number",name:"optionalEndHours"+t.toString(),step:1,defaultValue:e.props.testToEdit?e.getCurrentValue("optionalEndHours"+t.toString()):e.props.session.endHour,min:e.props.session.startHour,max:e.props.session.endHour}))))}),s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:3},s.a.createElement(Se.a,{onClick:function(t){e.setState({numOfOptionalTimes:e.state.numOfOptionalTimes+1})}},"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d5\u05e2\u05d3")),s.a.createElement(je.a,{md:3},this.state.numOfOptionalTimes>1&&s.a.createElement(Se.a,{onClick:function(t){e.setState({numOfOptionalTimes:e.state.numOfOptionalTimes-1})}},"\u05de\u05d7\u05e7 \u05de\u05d5\u05e2\u05d3"))),s.a.createElement(Oe.a.Row,null,s.a.createElement(je.a,{md:3},s.a.createElement(Se.a,{type:"Submit"},this.props.testToEdit?"\u05e2\u05d3\u05db\u05df \u05de\u05d1\u05d7\u05df":"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d1\u05d7\u05df")))))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={label:e.target.label.value,session:this.props.session.id,subject:e.target.subject.value,participatingClasses:[Object(v.a)(e.target.participatingClasses.options).filter(function(e){return e.selected}).map(function(e){return e.value})],numOfTests:e.target.numOfTests.value,daysGap:this.state.numOfTests>1?e.target.daysGap.value:0,minDate:e.target.minDate.value,maxDate:e.target.maxDate.value,optionalDaysInWeek:[G(0,this.state.numOfOptionalTimes-1).map(function(t){return e.target["optionalDaysInWeek"+t].value})],optionalStartHours:[G(0,this.state.numOfOptionalTimes-1).map(function(t){return e.target["optionalStartHours"+t].value})],optionalEndHours:[G(0,this.state.numOfOptionalTimes-1).map(function(t){return e.target["optionalEndHours"+t].value})],difficulty:5};this.props.testToEdit&&(a.id=this.props.testToEdit.id),H.a.post("https://tests-scheduler-app.herokuapp.com/tests",a).catch(function(e){console.error(e),alert(e)}).then(function(){t.props.afterSend&&t.props.afterSend()})}}]),t}(s.a.Component),we=Object(o.b)(function(e){return{session:e.session.items,subjects:e.subjects.items,classes:e.classes.items,minDate:q(e.session.items.startDate),maxDate:q(e.session.items.endDate)}})(Te),xe=a(268),Ie=a.n(xe),He=a(150),Le=a.n(He),Ge=a(267),Me=a.n(Ge),Ve=a(110),Fe=a.n(Ve),Re=a(24),qe=a.n(Re),Ne=a(269),Be=a.n(Ne),We=a(161),_e=a.n(We),Pe=z.a.momentLocalizer(J.a),Ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).SidebarContent=function(e){var t,n,r=e.style?Object(O.a)({},fe.sidebar,e.style):fe.sidebar,l=[],o=(t=e.testsToSchedule,n=function(e){return e.test.subject},t.reduce(function(e,t){var a="function"===typeof n?n(t):t[n];return e.hasOwnProperty(a)||(e[a]=[]),e[a].push(t),e},{}));return(R(a.props.subjectsDict)?[]:Object.keys(o).sort(function(e,t){return a.props.subjectsDict[e].name>a.props.subjectsDict[t].name?1:-1})).forEach(function(t){var n=[],r=[];o[t].forEach(function(t){var a=t.test;r.push(a.id);var l=t.optionalDates.length,o=l>0?"blue":"red";n.push(s.a.createElement("div",{className:"test"},s.a.createElement(he.b,{id:"test"+a.id.toString()},s.a.createElement("div",{className:"name"},s.a.createElement("span",{style:{color:o}},"[",l,"]"),a.name," - (",t.howManyLeft," \u05de\u05ea\u05d5\u05da ",a.numOfTests,")"),s.a.createElement("div",{className:"classes"},a.participatingClasses.map(function(t){return e.classesDict[t]?e.classesDict[t].name:""}).join(", ")))))});var i=r.indexOf(a.state.selectedTestId),c=s.a.createElement(Q.a,{items:n,selected:[i],disabled:[],multiple:!1,onChange:function(e){a.setState({selectedTestId:r[e]}),fetch("https://tests-scheduler-app.herokuapp.com/finddate?testid="+r[e].toString()).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e){return be(e)});a.setState({optionalDays:t}),0===e.length&&window.alert("\u05dc\u05d0 \u05e0\u05d5\u05ea\u05e8\u05d5 \u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd \u05d0\u05e4\u05e9\u05e8\u05d9\u05d9\u05dd \u05dc\u05de\u05d1\u05d7\u05df \u05d6\u05d4")}).catch(console.error)}});l.push(s.a.createElement(qe.a,null,s.a.createElement(Fe.a.Toggle,{as:qe.a.Header,eventKey:t},a.props.subjectsDict[t]?a.props.subjectsDict[t].name:""),s.a.createElement(Fe.a.Collapse,{eventKey:t},s.a.createElement(qe.a.Body,{style:{padding:0}},c))))}),s.a.createElement(ee,{title:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("span",{style:{margin:"15px"}},s.a.createElement(w.a,{icon:x.e,onClick:function(){var e=prompt("\u05d1\u05d7\u05e8 \u05e9\u05dd:");e.length>0&&H.a.post("https://tests-scheduler-app.herokuapp.com/schedulerstatestore",{name:e}).then(a.props.dispatch(pe())).catch(console.error)}})),s.a.createElement("span",{style:{margin:"15px"}},s.a.createElement(w.a,{icon:x.a,onClick:function(){a.props.dispatch(de())}})),s.a.createElement("span",{style:{margin:"15px"}},s.a.createElement(w.a,{icon:x.d,onClick:function(){fetch("https://tests-scheduler-app.herokuapp.com/runscheduler").then(function(){var e;e=300,new Promise(function(t){return setTimeout(t,e)}),a.props.dispatch(ue())}).catch(console.error)}})),s.a.createElement("span",{style:{margin:"15px"}},s.a.createElement(w.a,{icon:x.c,onClick:function(){return a.showTestForm()}})),s.a.createElement("span",{style:{margin:"15px"}},s.a.createElement(w.a,{icon:x.b,onClick:function(){return a.showBlockerForm()}})))),style:r},s.a.createElement(ye,{title:"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05dc\u05d5\u05e5",show:"blocker"===a.state.modalFormData.type,onHide:a.closeModals},s.a.createElement(Ce,Object.assign({afterSend:a.closeModals},a.state.modalFormData.props))),s.a.createElement(ye,{title:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d1\u05d7\u05df",show:"test"===a.state.modalFormData.type,onHide:a.closeModals},s.a.createElement(we,Object.assign({afterSend:a.closeModals},a.state.modalFormData.props))),s.a.createElement("div",null,s.a.createElement(Fe.a,null,l)))},a.props.dispatch(me()),a.state={optionalDays:[],selectedTestId:null,scheduledTests:[],testEvents:[],filteredClassOnSchedule:null,modalFormData:{type:null,props:null},blockerModalShow:!1,testModalShow:!1},a.customDayPropGetter=a.customDayPropGetter.bind(Object(y.a)(a)),a.SidebarContent=a.SidebarContent.bind(Object(y.a)(a)),a.closeModals=a.closeModals.bind(Object(y.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"closeModals",value:function(){this.setState({blockerModalShow:!1,testModalShow:!1}),this.setState({modalFormData:{type:null,props:null}}),this.props.dispatch(me())}},{key:"fetch_delete",value:function(e,t){var a=this;fetch("https://tests-scheduler-app.herokuapp.com"+e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).catch(console.error).then(function(){return a.props.dispatch(me())})}},{key:"customDayPropGetter",value:function(e){return this.state.optionalDays.includes(e.getTime())?{className:"special-day",style:{border:"solid 3px #afa"}}:{}}},{key:"render",value:function(){var e=this,t={sidebar:s.a.createElement(this.SidebarContent,{testsToSchedule:this.props.testsToSchedule,classesDict:this.props.classesDict}),docked:!0,sidebarClassName:"custom-sidebar-class",contentId:"custom-sidebar-content-id",open:!0,touch:!0,shadow:!1,pullRight:!0,transitions:!0},a=J()(this.props.session.startDate),n=J()(this.props.session.endDate),r=[];if(n.isBefore(a))throw"End date must be greater than start date.";for(;a.isBefore(n);)r.push(a.format("YYYY-MM-01")),a.add(1,"month");var l=r.map(function(t){return s.a.createElement("div",{style:fe.content},e.getBigCalendar(new Date(t)))});s.a.createRef();return s.a.createElement(s.a.Fragment,null,s.a.createElement(Z.a,Object.assign({},t,{styles:{root:{margin:"0 15px"}}}),s.a.createElement(ee,{title:s.a.createElement("div",null,s.a.createElement("span",null,"\u05e8\u05de\u05ea \u05e7\u05d5\u05e9\u05d9: ",this.props.scheduleDifficulty),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{id:"dropdown-basic-button",variant:"secondary",title:"\u05e2\u05d1\u05d5\u05e8 \u05dc\u05dc\u05d5\u05d7 \u05e9\u05de\u05d5\u05e8"},this.props.savedSchedules.map(function(t){var a=function(e,t){var a=e.getTime(),n=t.getTime(),s=Math.abs(a-n);return Math.floor(s/864e5)}(new Date,new Date(t.dateSaved));return s.a.createElement(Le.a.Item,{onSelect:function(){return e.props.dispatch(ue("?storeid="+t.storeid))}},t.name+" - ",s.a.createElement("em",null,"\u05e0\u05e9\u05de\u05e8 \u05dc\u05e4\u05e0\u05d9 "+"".concat(a)+" \u05d9\u05de\u05d9\u05dd"))})),s.a.createElement(T.a,{onClick:function(){fetch("https://tests-scheduler-app.herokuapp.com/debug").then(function(t){return e.props.dispatch(ue())})}},"\u05e9\u05e4\u05e8 \u05e9\u05d9\u05d1\u05d5\u05e6\u05d9\u05dd"),s.a.createElement(T.a,{onClick:function(){e.props.history.push("/selectsession")}},"\u05d1\u05d7\u05e8 \u05dc\u05d5\u05d7 \u05e9\u05e0\u05d4 \u05d0\u05d7\u05e8")))},s.a.createElement(Be.a,{defaultActiveKey:"all",id:"classesFilterTabs",onSelect:function(t){"all"===t?e.setState({filteredClassOnSchedule:null}):e.setState({filteredClassOnSchedule:parseInt(t)})}},s.a.createElement(_e.a,{eventKey:"all",title:"\u05db\u05dc \u05d4\u05db\u05d9\u05ea\u05d5\u05ea"}),this.props.classes.map(function(e){return s.a.createElement(_e.a,{eventKey:e.id,title:e.name})})),l)),this.props.tests.filter(function(e){return e.id}).map(function(t){return s.a.createElement(he.a,{id:"test"+t.id.toString(),rtl:!0},s.a.createElement(he.c,{onClick:function(){return e.showTestForm({testToEdit:e.props.testsDict[t.id]})}},s.a.createElement("div",null,"\u05e2\u05e8\u05d5\u05da")),s.a.createElement(he.c,{onClick:function(){return e.fetch_delete("/tests",t.id)}},"\u05de\u05d7\u05e7"))}),this.props.blockers.map(function(t){return s.a.createElement(he.a,{id:"blocker"+t.id.toString(),rtl:!0},s.a.createElement(he.c,{onClick:function(){return e.showBlockerForm({blockerToEdit:e.props.blockersDict[t.id]})}},s.a.createElement("div",null,"\u05e2\u05e8\u05d5\u05da")),s.a.createElement(he.c,{onClick:function(){return e.fetch_delete("/blockers",t.id)}},"\u05de\u05d7\u05e7"))}))}},{key:"getBigCalendar",value:function(e){var t=this;return s.a.createElement(z.a,{popup:!0,selectable:!0,localizer:Pe,defaultDate:e,defaultView:"month",views:{month:!0},events:[].concat(Object(v.a)(this.props.blockerEvents.filter(function(e){return null===t.state.filteredClassOnSchedule||e.blocker.participatingClasses.includes(t.state.filteredClassOnSchedule)})),Object(v.a)(this.props.testEvents.filter(function(e){return null===t.state.filteredClassOnSchedule||e.test.participatingClasses.includes(t.state.filteredClassOnSchedule)}))),style:{height:"500px"},startAccessor:"start",endAccessor:"end",onSelectEvent:function(e,a){if("test"===e.type){var n=e.start;n.setHours(0,0,0,0),t.props.dispatch(function(e,t){return function(a){var n={testid:e.toString(),date:t};return H.a.post("https://tests-scheduler-app.herokuapp.com/unscheduletest",n).then(a({type:"UNSCHEDULE",id:e,date:t})).then(function(){return a(ue())})}}(e.id,n)),t.setState({selectedTestId:null,optionalDays:[]})}},onSelectSlot:function(e){var a,n;null!==t.state.selectedTestId?t.state.optionalDays.includes(be(e.start))&&(t.props.dispatch((a=t.state.selectedTestId,n=e.start,function(e){var t={testid:a.toString(),date:n};return H.a.post("https://tests-scheduler-app.herokuapp.com/scheduletest",t).then(e({type:"SCHEDULE",id:a,date:n})).then(function(){return e(ue())})})),t.setState({selectedTestId:null,optionalDays:[]})):t.showBlockerForm({wantedDates:{start:q(e.start),end:q(e.end)}})},components:{event:Ee},dayPropGetter:this.customDayPropGetter,rtl:!0})}},{key:"showTestForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({modalFormData:{type:"test",props:e}})}},{key:"showBlockerForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({modalFormData:{type:"blocker",props:e}})}}]),t}(n.Component),Ue=Object(o.b)(function(e){var t=e.classes.items.reduce(function(e,t){return Object(O.a)({},e,Object(Y.a)({},t.id,t))},{}),a=e.tests.items.reduce(function(e,t){return Object(O.a)({},e,Object(Y.a)({},t.id,t))},{}),n=e.blockers.items.reduce(function(e,t){return Object(O.a)({},e,Object(Y.a)({},t.id,t))},{}),s=e.subjects.items.reduce(function(e,t){return Object(O.a)({},e,Object(Y.a)({},t.id,t))},{});return{session:e.session.items,subjects:e.subjects.items,classes:e.classes.items,blockers:e.blockers.items,tests:e.tests.items,classesDict:t,testsDict:a,blockersDict:n,subjectsDict:s,scheduleDifficulty:e.schedule.difficulty,scheduledTests:e.schedule.scheduledTests,savedSchedules:e.savedSchedules.items,testsToSchedule:e.tests.items.map(function(t){var a=e.schedule.scheduledTests.filter(function(e){return e.id===t.id}).length,n=t.numOfTests;if(n>a){var s=e.schedule.unscheduledTestsOptions[t.id];return{test:t,howManyLeft:n-a,optionalDates:(s=s||[]).map(be)}}return null}).filter(function(e){return null!=e}),blockerEvents:e.blockers.items.reduce(function(e,t){return e=[].concat(Object(v.a)(e),Object(v.a)(t.startDates.map(function(e,a){return{title:t.name,start:new Date(t.startDates[a]),end:new Date(t.endDates[a]),type:"blocker",id:t.id,blocker:t}})))},[]),testEvents:e.schedule.scheduledTests.filter(function(e){return a[e.id]}).map(function(n){var s=n.id,r=n.date;if(R(a))return[];var l=a[s],o=l?l.name:"",i=function(e){for(var t=e.concat().sort(),a=t[0],n=t[t.length-1],s=a.length,r=0;r<s&&a.charAt(r)===n.charAt(r);)r++;return a.substring(0,r)}(e.classes.items.map(function(e){return e.name}));return{title:o+" ("+l.participatingClasses.map(function(e){return t[e]?t[e].name.replace(i,""):""}).join(", ")+")",start:new Date(r),end:new Date(r),type:"test",id:s,test:l}})}})(Ae),Ye=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,this.props.name),s.a.createElement("ul",null,s.a.createElement(n.Suspense,{fallback:s.a.createElement("li",null)},s.a.createElement(V,{url:this.props.url,preProcess:F,parserFunction:function(e){return s.a.createElement("div",null,s.a.createElement("li",null,e.name),s.a.createElement("ul",null,Object.entries(e).map(function(e){return"name"!==e[0]&&s.a.createElement("li",null,e[0]," : ",e[1])})))}}))))}}]),t}(n.Component);function ze(){return s.a.createElement("div",null,s.a.createElement(Ye,{name:"\u05e1\u05e9\u05e0\u05d9\u05dd",url:"https://tests-scheduler-app.herokuapp.com/sessionslist"}))}var Ke=a(19),Je=a.n(Ke),Ze=a(53),Xe=a.n(Ze),Qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).sendSession=function(e){e.preventDefault();var t=Object(O.a)({subjects:[a.state.subjects],classes:[a.state.classes]},a.state.defaults);H.a.post("https://tests-scheduler-app.herokuapp.com/initsession",t).then(function(e){return e.data}).then(function(e){return a.props.dispatch(me(e.session))}).then(function(){return a.props.history.push("/subjects")}).catch(console.error)},a.state={subjects:["\u05e7\u05d5\u05e1\u05de\u05d5\u05ea","\u05e9\u05d9\u05e7\u05d5\u05d9\u05d9\u05dd"],classes:["\u05d01","\u05d02"],defaults:{sessionName:"",minDate:"2019-01-01",maxDate:"2019-05-01",daysGap:30,numOfHours:1,isZeroHour:!1}},a.handleInputChange=a.handleInputChange.bind(Object(y.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState({defaults:Object(O.a)({},this.state.defaults,Object(Y.a)({},n,a))})}},{key:"render",value:function(){var e=this,t=s.a.createElement(Je.a,null,s.a.createElement(Je.a.Row,null,s.a.createElement(Xe.a,{md:12},s.a.createElement(Je.a.Group,null,s.a.createElement(Je.a.Label,null,"\u05db\u05d9\u05e0\u05d5\u05d9"),s.a.createElement(Je.a.Control,{type:"text",required:!0,value:this.state.sessionName,name:"sessionName",onChange:this.handleInputChange,maxLength:100}))),s.a.createElement(Xe.a,{md:6},s.a.createElement(Je.a.Group,null,s.a.createElement(Je.a.Label,null,"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4"),s.a.createElement(Je.a.Control,{required:!0,type:"date",value:this.state.defaults.minDate,name:"minDate",onChange:this.handleInputChange}))),s.a.createElement(Xe.a,{md:6},s.a.createElement(Je.a.Group,null,s.a.createElement(Je.a.Label,null,"\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd"),s.a.createElement(Je.a.Control,{required:!0,type:"date",value:this.state.defaults.maxDate,name:"maxDate",onChange:this.handleInputChange})))),s.a.createElement(Je.a.Row,null,s.a.createElement(Xe.a,{md:6},s.a.createElement(Je.a.Group,null,s.a.createElement(Je.a.Label,null,"\u05de\u05e8\u05d5\u05d5\u05d7 \u05de\u05d9\u05e0\u05d9\u05de\u05dc\u05d9 \u05d1\u05d9\u05df \u05de\u05d1\u05d7\u05e0\u05d9\u05dd \u05d1\u05d0\u05d5\u05ea\u05d5 \u05d4\u05de\u05e7\u05e6\u05d5\u05e2"),s.a.createElement(Je.a.Control,{required:!0,type:"number",name:"daysGap",value:this.state.defaults.daysGap,step:1,min:2,max:365,onChange:this.handleInputChange})))),s.a.createElement(Je.a.Row,null,s.a.createElement(Xe.a,{md:6},s.a.createElement(Je.a.Group,null,s.a.createElement(Je.a.Label,null,"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e2\u05d5\u05ea \u05d1\u05d9\u05d5\u05dd"),s.a.createElement(Je.a.Control,{required:!0,type:"number",name:"numOfHours",value:this.state.defaults.numOfHours,min:1,onChange:this.handleInputChange})))),s.a.createElement(Je.a.Row,null,s.a.createElement(Xe.a,{md:6},s.a.createElement(Je.a.Group,null,s.a.createElement(Je.a.Check,{name:"isZeroHour",type:"checkbox",checked:this.state.defaults.isZeroHour,label:"\u05d9\u05e9 \u05e9\u05e2\u05ea \u05d0\u05e4\u05e1",onChange:this.handleInputChange})))));return s.a.createElement(g.a,{style:{width:"70%"}},s.a.createElement("h1",null,"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea"),s.a.createElement(qe.a,null,s.a.createElement("h2",null,"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05db\u05dc\u05dc\u05d9\u05d5\u05ea"),s.a.createElement(qe.a.Body,null,t)),s.a.createElement(qe.a,null,s.a.createElement("h2",null,"\u05db\u05d9\u05ea\u05d5\u05ea"),s.a.createElement(qe.a.Body,null,s.a.createElement($e,{title:"\u05db\u05d9\u05ea\u05d5\u05ea",sendText:"\u05d4\u05d5\u05e1\u05e3 \u05db\u05d9\u05ea\u05d4",maxInputLength:5,setParentList:function(t){return e.setState({classes:t})}}))),s.a.createElement(qe.a,null,s.a.createElement("h2",null,"\u05de\u05e7\u05e6\u05d5\u05e2\u05d5\u05ea"),s.a.createElement(qe.a.Body,null,s.a.createElement($e,{title:"\u05de\u05e7\u05e6\u05d5\u05e2\u05d5\u05ea",sendText:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e7\u05e6\u05d5\u05e2",maxInputLength:20,setParentList:function(t){return e.setState({subjects:t})}}))),s.a.createElement(T.a,{onClick:this.sendSession},"\u05e9\u05de\u05d5\u05e8 \u05d5\u05d4\u05de\u05e9\u05da \u05dc\u05d4\u05d2\u05d3\u05e8\u05ea \u05d0\u05e9\u05db\u05dc\u05d5\u05ea"))}}]),t}(s.a.Component),$e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={text:"",list:[]},a.handleChange=a.handleChange.bind(Object(y.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(y.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("ul",null,this.state.list.map(function(e,t){return s.a.createElement("li",{key:"item-".concat(t)},e)})),s.a.createElement("form",null,s.a.createElement("input",{maxLength:this.props.maxInputLength?this.props.maxInputLength:100,id:"new-todo",onChange:this.handleChange,value:this.state.text}),s.a.createElement(T.a,{type:"submit",onClick:this.handleSubmit},this.props.sendText)))}},{key:"handleChange",value:function(e){this.setState({text:e.target.value})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.state.text.length){var t=[].concat(Object(v.a)(this.state.list),[this.state.text]);this.setState({list:t}),this.props.setParentList(t),this.setState(function(){return{text:""}})}}}]),t}(s.a.Component),et=Object(o.b)(function(e){return{}})(Qe);var tt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.session;return s.a.createElement("div",null,s.a.createElement(qe.a,{style:{width:"30%"}},s.a.createElement(qe.a.Body,null,s.a.createElement(qe.a.Title,null,t.info.name),s.a.createElement(qe.a.Text,null,s.a.createElement("strong",null,"\u05db\u05d9\u05ea\u05d5\u05ea: "),t.classes.map(function(e){return e.name}).join(", ")),s.a.createElement(qe.a.Text,null,s.a.createElement("strong",null,"\u05de\u05e7\u05e6\u05d5\u05e2\u05d5\u05ea: "),t.subjects.map(function(e){return e.name}).join(", ")),s.a.createElement(qe.a.Text,null,"\u05de\u05ea\u05d7\u05d9\u05dc \u05d1- ",new Date(t.info.startDate).toLocaleDateString("he-IL"),"\xa0 \u05d5\u05e0\u05d2\u05de\u05e8 \u05d1- ",new Date(t.info.endDate).toLocaleDateString("he-IL")),s.a.createElement(qe.a.Text,{style:{color:"red"}},"\u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05d2\u05dd \u05e9\u05e2\u05d5\u05ea \u05d5\u05de\u05e8\u05d5\u05d5\u05d7"),s.a.createElement(qe.a.Text,null,s.a.createElement(d.b,{to:"/calendar",onClick:function(){(function(e){var t={session:e};return H.a.post("https://tests-scheduler-app.herokuapp.com/selectsession",t).catch(console.error)})(t.info.id).then(function(){return e.props.dispatch(me())})}},"\u05d1\u05d7\u05e8 \u05dc\u05d5\u05d7 \u05de\u05d1\u05d7\u05e0\u05d9\u05dd")),s.a.createElement(qe.a.Text,null,s.a.createElement(d.b,{to:"#"},"\u05e9\u05db\u05e4\u05dc \u05d5\u05e2\u05e8\u05d5\u05da")))))}}]),t}(n.Component),at=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={sessions:[]},fetch("https://tests-scheduler-app.herokuapp.com/sessionslist").then(function(e){return e.json()}).then(function(e){return a.setState({sessions:e})}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(g.a,null,s.a.createElement("div",null,s.a.createElement(T.a,{variant:"primary",size:"lg",active:!0,onClick:function(){return e.props.history.push("/sessionsetup")}},"\u05e6\u05d5\u05e8 \u05dc\u05d5\u05d7 \u05de\u05d1\u05d7\u05e0\u05d9\u05dd \u05d7\u05d3\u05e9")),s.a.createElement("div",null,"\u05d0\u05d5 \u05d4\u05de\u05e9\u05da \u05e2\u05d1\u05d5\u05d3\u05d4 \u05e2\u05dc \u05dc\u05d5\u05d7 \u05e7\u05d9\u05d9\u05dd"),s.a.createElement("div",null,this.state.sessions.map(function(t){return s.a.createElement(tt,{dispatch:e.props.dispatch,key:t.info.id,session:t})})))}}]),t}(s.a.Component),nt=Object(o.b)(function(e){return{}})(at),st=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e)),console.warn("REMOVE HARD CODED ID"),a.props.dispatch(me()),a.state={blockerModalShow:!1,testModalShow:!1},a.closeModals=a.closeModals.bind(Object(y.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"closeModals",value:function(){this.setState({blockerModalShow:!1,testModalShow:!1}),this.props.dispatch(me())}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h1",null,this.props.session.name),s.a.createElement(ye,{title:"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05dc\u05d5\u05e5",show:this.state.blockerModalShow,onHide:this.closeModals},s.a.createElement(Ce,{afterSend:this.closeModals})),s.a.createElement(ye,{title:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d1\u05d7\u05df",show:this.state.testModalShow,onHide:this.closeModals},s.a.createElement(we,{afterSend:this.closeModals})),s.a.createElement("div",null,s.a.createElement(T.a,{variant:"primary",onClick:function(){return e.setState({blockerModalShow:!0})}},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05dc\u05d5\u05e5"),s.a.createElement(T.a,{variant:"primary",onClick:function(){return e.setState({testModalShow:!0})}},"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d1\u05d7\u05df")),s.a.createElement(Ue,{session:this.props.session}))}}]),t}(n.Component),rt=Object(o.b)(function(e){var t=e.classes.items.reduce(function(e,t){return Object(O.a)({},e,Object(Y.a)({},t.id,t))},{}),a=e.tests.items.reduce(function(e,t){return Object(O.a)({},e,Object(Y.a)({},t.id,t))},{});return{session:e.session.items,subjects:e.subjects.items,classes:e.classes.items,blockers:e.blockers.items,tests:e.tests.items,classesDict:t,testsDict:a}})(st),lt=(n.Component,function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement(g.a,null,s.a.createElement(d.a,{basename:"/"},s.a.createElement("div",{style:{alignItems:""}},s.a.createElement("li",null,s.a.createElement(d.b,{to:"/"},"Home")),s.a.createElement("li",null,s.a.createElement(d.b,{to:"/selectsession"},"selectsession")),s.a.createElement("hr",null),s.a.createElement(h.c,null,s.a.createElement(h.a,{exact:!0,path:"/",component:nt}),s.a.createElement(h.a,{path:"/home",component:ze}),s.a.createElement(h.a,{path:"/subjects",component:U}),s.a.createElement(h.a,{path:"/calendar",component:Ue}),s.a.createElement(h.a,{path:"/addtests",component:we}),s.a.createElement(h.a,{path:"/addblockers",component:Ce}),s.a.createElement(h.a,{path:"/sessionsetup",component:et}),s.a.createElement(h.a,{path:"/selectsession",component:nt}),s.a.createElement(h.a,{path:"/session",component:rt}),s.a.createElement(h.a,{component:function(){return s.a.createElement("div",null,"404 Not found ")}})))))}}]),t}(n.Component));var ot=Object(o.b)(function(e){var t=e.subjects,a=e.session,n=t.isFetching;return{session:a,items:t.items,isFetching:n}})(lt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it=a(32),ct=a(270),ut=a(271);function pt(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,items:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case te+"_"+e.toUpperCase():return Object.assign({},t,{isFetching:!0});case ae+"_"+e.toUpperCase():return Object.assign({},t,{isFetching:!1,items:a.items,lastUpdated:a.receivedAt});default:return t}}}var mt=Object(it.c)({session:pt("Session"),subjects:pt("Subjects"),classes:pt("Classes"),blockers:pt("Blockers"),tests:pt("Tests"),savedSchedules:pt("ScheduleStore"),schedule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,scheduledTests:[],unscheduledTestsOptions:{},difficulty:0,horizon:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te+"_SCHEDULE":return Object.assign({},e,{isFetching:!0});case ae+"_SCHEDULE":return Object.assign({},e,{isFetching:!1,difficulty:t.items.difficulty,scheduledTests:t.items.scheduledTests.map(function(e){var t=new Date(e.date);return t.setHours(0,0,0,0),{id:e.id,date:t}}),unscheduledTestsOptions:t.items.unscheduledTestsOptions});default:return e}}}),dt=Object(ut.createLogger)();var ht=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||it.d;return Object(it.e)(mt,e,t(Object(it.a)(ct.a,dt)))}();l.a.render(s.a.createElement(o.a,{store:ht},s.a.createElement(ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[275,1,2]]]);
//# sourceMappingURL=main.d2c036fd.chunk.js.map